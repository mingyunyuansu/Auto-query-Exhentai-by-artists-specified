# Auto-query-Exhentai-by-artists-specified
#### 所以这是一个自用脚本，本身也非常简易，用requests做请求，BeautifulSoup做parser，任何人都能看懂。

---
2018年7月27号，ex关闭，故换位表站。因为表站里站结构非常类似，所以稍微修改了代码脚本又可以正常使用了。

因为从今以后访问的是表站，所以cookies也有变化。但表站不需要cookies也可以访问，可以自行修改代码，去除cookies部分。

---

更新：
E站更新了HTML页面，之前的代码用不了了。不过只是换汤不换药，重新写了一下，又可以用了。



---
思路是这样的：
1. Ex搜索得出的结果的顺序是一样，且按时间顺序排列，新更新的项会在前面
2. 利用这一点，以某作者名搜索，把得到的一系列本子名保存下来作为old
3. 每次脚本运行，以某作者名搜索得到新结果new，看new与old相比有没有新的本子即可知道有没有更新
4. 有更新则提示并在浏览器中打开
5. 最后old = new，并保存

把cookie.txt和old.txt放在同一目录下就可以运行了。前提是你有用于进入Ex的cookie，要是你不会这个你肯定也进不了Ex，我就不放我的cookie了；old.txt是用字典存为json保存一系列作者的本品名，即上文的old。

第一次运行的话需要稍稍改下代码initialize一下，因为此时old为空，需要什么都不干就是把所有作者都请求一遍然后把结果放进old中。不过我把自己的old.txt放上来了所以你也可以省掉这步。

你可以在artists的list中随便删去、添加作者，刚添加的作者也会被打开。反正最后会覆盖old.txt，每次运行结束时，可以保证artists和old.txt的一致性。
